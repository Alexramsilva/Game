# -*- coding: utf-8 -*-
"""Juego.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1dLRT67BRYdjzg-hklELUgxdZVUzGKIN9
"""

# app.py
import streamlit as st
import pandas as pd
import random

st.set_page_config(page_title="Juego Antifiestas", layout="centered")

st.title("ğŸ® Juego Antifiestas")
st.subheader("Evita hoy lo que te hizo gastar antes")

# =============================
# Datos histÃ³ricos
# =============================
data = {
    "fecha": pd.date_range(start="2024-01-01", end="2024-01-31"),
    "gasto_2024": [
        0,0,0,0,0,2168,0,0,0,0,1908,0,0,1898,0,2258,0,0,0,0,0,0,0,0,1303,0,2008,0,0,0,0
    ],
    "gasto_2025": [
        0,0,0,0,0,0,0,517,0,1354.38,0,0,0,787.72,675.04,0,0,0,0,0,0,0,3600,0,0,804.56,0,0,0,0,0
    ]
}

df = pd.DataFrame(data)

# =============================
# Estado del juego
# =============================
if "dia" not in st.session_state:
    st.session_state.dia = 0
    st.session_state.ahorro = 0
    st.session_state.puntos = 0
    st.session_state.historial = []

# =============================
# Fin del juego
# =============================
if st.session_state.dia >= len(df):
    st.success("ğŸ Juego terminado")

    st.metric("ğŸ’° Ahorro total logrado", f"${st.session_state.ahorro:,.2f}")
    st.metric("â­ Puntos financieros", st.session_state.puntos)

    st.subheader("ğŸ“Š Historial de ahorro diario")
    st.bar_chart(st.session_state.historial)

    st.stop()

# =============================
# DÃ­a actual
# =============================
fila = df.loc[st.session_state.dia]
fecha = fila["fecha"].strftime("%d-%m-%Y")
gasto = fila["gasto_2024"] + fila["gasto_2025"]

st.header(f"ğŸ“… {fecha}")

if gasto > 0:
    st.warning(f"ğŸ‰ TentaciÃ³n detectada\n\nCosto histÃ³rico: **${gasto:,.2f}**")

    col1, col2 = st.columns(2)

    with col1:
        if st.button("âŒ Evitar fiesta"):
            st.session_state.ahorro += gasto
            st.session_state.puntos += int(gasto / 100)
            st.session_state.historial.append(gasto)
            st.session_state.dia += 1
            st.rerun()

    with col2:
        if st.button("ğŸ» Ir a la fiesta"):
            st.session_state.historial.append(0)
            st.session_state.dia += 1
            st.rerun()
else:
    st.info("ğŸ˜Œ DÃ­a tranquilo, sin gastos histÃ³ricos")
    st.session_state.historial.append(0)
    st.session_state.dia += 1
    st.rerun()

# =============================
# Indicadores
# =============================
st.divider()
st.metric("ğŸ’° Ahorro acumulado", f"${st.session_state.ahorro:,.2f}")
st.metric("â­ Puntos", st.session_state.puntos)

# TÃ­tulo principal
st.title("ğŸ¥  Galletitas Financieras ğŸ’°")
st.write("Cada clic revela un consejo financiero para mejorar tus hÃ¡bitos de ahorro e inversiÃ³n.")

# Lista de mensajes de buenos hÃ¡bitos financieros
mensajes = [
    "ğŸ’¡ Ahorra primero, gasta despuÃ©s.",
    "ğŸ“Š Lleva un registro mensual de tus ingresos y gastos.",
    "ğŸ’° Invierte en instrumentos que entiendas.",
    "ğŸ§¾ Evita las deudas que no generen valor.",
    "ğŸ¯ Define metas financieras claras y medibles (sÃ© realista).",
    "ğŸ¦ Aprovecha el interÃ©s compuesto: el tiempo es tu mejor aliado.",
    "ğŸ’³ No gastes mÃ¡s de lo que ganas, aunque tengas crÃ©dito disponible.",
    "ğŸª™ Separa un 10% de tu ingreso para emergencias.",
    "ğŸ“š La educaciÃ³n financiera es la mejor inversiÃ³n.",
    "ğŸ¡ Piensa en el futuro: planifica tu retiro desde hoy.",
    "ğŸ§˜â€â™‚ï¸ La estabilidad financiera tambiÃ©n es bienestar emocional.",
    "ğŸŒ± Cada pequeÃ±o ahorro es una semilla para tu libertad financiera.",
    "ğŸ” Antes de invertir, compara rendimientos y riesgos.",
    "ğŸ• SÃ© constante: la disciplina vence al impulso.",
    "ğŸ“ˆ Diversifica tus inversiones, no pongas todos los huevos en la misma canasta.",
    "ğŸ§˜â€â™‚ï¸ Evita las pesadillas financieras, sÃ© diciplinado financieramente.",
    "ğŸ“Š El ahorro tiene un propÃ³sito, visualÃ­zalo para que sea una realidad.",
    "ğŸ“Š Identifica tus gastos hormiga, evitandolos se convitirÃ¡n en inversiÃ³n.",
    "ğŸ’³ El crÃ©dito puede ser un aliado, pero se puede comvertir en tu dolor de cabeza.",
    "ğŸ’³ Si tienes problemas de compras compulsivas, evita las tarjetas de crÃ©dito.",
    "ğŸ’° De cafecito en cafecito, se nos va el dinerito.",
    "ğŸ’° Carga contigo siempre una fruta, agua y un termo de cafÃ©, tu bolsillo te lo agradecerÃ¡.",
    "ğŸ” La informaciÃ³n disuelve la emociÃ³n (conoce tus ingresos y gastos).",
    "ğŸ“Š Cuando inviertes en la Bolsa, la paciencia es mejor que la inteligencia.",
    "ğŸ“Š Cuida tu dinero: nuestro cerebro no trata al dinero como esfuerzo, sino como emociÃ³n y alivio inmediato.",
    "ğŸ“Š Cuida tu dinero: el gasto regula emociones (reduce estrÃ©s, conpensa cansancio y genera recompensa.",
    "ğŸ’³ Tarjeta de CrÃ©dito: Compra despuÃ©s del corte y paga antes de la fecha lÃ­mite.",
    "ğŸ’³ Tu Tarjeta de CrÃ©dito utilÃ­zala como herramienta financiera, no como dinero extra.",
    
]

# BotÃ³n para obtener una galletita
if st.button("ğŸª Romper una galletita"):
    mensaje = random.choice(mensajes)
    st.success(mensaje)


# --- PersonalizaciÃ³n de diseÃ±o ---
st.markdown("""
<style>
    .stApp {
        background-color: #00FF00;
    }
    .css-1d391kg {
        color: #faf7f8;
    }
</style>
""", unsafe_allow_html=True)

